.container-fluid
  .row
    .col-md-6.col-md-offset-1
      %h1 Ignite Talks admin panel
    .col-md-1.col-md-offset-3
      .btn-group.top-15
        %button{:type => "button", :class => "btn btn-default dropdown-toggle", "data-toggle" => "dropdown"}
          =current_user.email
          %span.caret 
        %ul.dropdown-menu
          %li= link_to "Change your password", edit_user_registration_path
          %li= link_to('Logout', destroy_user_session_path, :method => :delete)

- if current_user.admin?
  .container-fluid
    .row
      .col-md-6.col-md-offset-1
        %h4
          Published
          %input{ :type => "checkbox", :id => "chkPublished", :class => "bootstrapSwitch", :checked => "checked"}
          %span.left-15
            Draft
            %input{ :type => "checkbox", :id => "chkDrafts", :class => "bootstrapSwitch"}


    #admin_videos.admin_panel
      .row.top-50.draft
        .col-md-10.col-md-offset-1
          %h4 Draft videos
          %hr
          %table#draft_videos
            %thead
              %tr
                %th Event
                %th Title
                %th Watch
                %th Presenter
                %th Presenter URL
                %th Uploaded
                %th Tags
                %th
                %th
            %tbody
              -@draft_videos.each do |draft_video|
                %tr
                  %td= draft_video.event.name
                  %td= link_to draft_video.title, edit_video_path(draft_video)
                  %td.center
                    = link_to draft_video.url, :target => "_blank" do
                      %i.fa.fa-play-circle
                  %td= draft_video.speaker_name
                  %td= draft_video.speaker_url
                  %td= draft_video.created_at.to_date
                  %td= draft_video.tags.map(&:name).join(", ")
                  %td
                    =link_to edit_video_path(draft_video), class: "light btn-edit" do
                      %i.fa.fa-pencil-square-o
                  %td
                    =link_to video_path(draft_video), method: :delete, class: "light btn-delete", data: {confirm: "Are you sure you want to delete this draft video?"} do 
                      %i.fa.fa-times

      .row.top-50.published
        .col-md-10.col-md-offset-1
          %h4
            Published Videos
            %button
              =link_to "Add new video", new_video_path
          %hr
          %table#videos
            %thead
              %tr
                %th Featured
                %th Event
                %th Title
                %th Watch
                %th Presenter
                %th Presenter URL
                %th Uploaded
                %th Tags
                %th
                %th
            %tbody
              -@videos.each do |video|
                %tr
                  - if video.featured?
                    %td
                      %i.fa.fa-check
                  - else
                    %td
                  %td= video.event.name
                  %td= link_to video.title, edit_video_path(video)
                  %td.center
                    = link_to video.url, :target => "_blank" do
                      %i.fa.fa-play-circle
                  %td= video.speaker_name
                  %td= video.speaker_url
                  %td= video.created_at.to_date
                  %td= video.tags.map(&:name).join(", ")
                  %td
                    =link_to edit_video_path(video), class: "light btn-edit" do
                      %i.fa.fa-pencil-square-o
                  %td
                    =link_to video_path(video), method: :delete, class: "light btn-delete", data: {confirm: "Are you sure you want to delete this video?"} do 
                      %i.fa.fa-times

    #admin_events.admin_panel
      .row.draft
        .col-md-10.col-md-offset-1
          %h4 Draft Ignites

          %hr
          %table#draft_events
            %thead
              %tr
                %th Name
                %th City
                %th State
                %th Country
                %th URL
                %th Twitter
                %th
            %tbody
              -@draft_events.each do |draft_event|
                %tr
                  %td= link_to draft_event.name, edit_event_path(draft_event)
                  %td= draft_event.city
                  %td= draft_event.state
                  %td= draft_event.country
                  %td= link_to draft_event.url, draft_event.url, :target => "_blank"
                  %td= draft_event.twitter_name
                  %td
                    =link_to edit_event_path(draft_event), class: "light btn-edit" do
                      %i.fa.fa-pencil-square-o
                    =link_to event_path(draft_event), method: :delete, class: "light btn-delete", data: {confirm: "Are you sure you want to delete this Ignite?"} do 
                      %i.fa.fa-times

      .row.top-50.published
        .col-md-10.col-md-offset-1
          %h4
            Published Ignites
            %button
              =link_to "Add new Ignite", new_event_path
          %hr
          %table#events
            %thead
              %tr
                %th Name
                %th City
                %th State
                %th Country
                %th URL
                %th Twitter
                %th
            %tbody
              -@events.each do |event|
                %tr
                  %td= link_to event.name, edit_event_path(event)
                  %td= event.city
                  %td= event.state
                  %td= event.country
                  %td= link_to event.url, event.url, :target => "_blank"
                  %td= event.twitter_name
                  %td
                    =link_to edit_event_path(event), class: "light btn-edit" do
                      %i.fa.fa-pencil-square-o
                    =link_to event_path(event), method: :delete, class: "light btn-delete", data: {confirm: "Are you sure you want to delete this Ignite?"} do 
                      %i.fa.fa-times

    #admin_upcomings.admin_panel
      .row.draft
        .col-md-10.col-md-offset-1
          %h4 Draft Upcoming Events
            
          %hr
          %table#draft_upcoming
            %thead
              %tr
                %th Name
                %th Ignite
                %th Date
                %th
            %tbody
              -@draft_upcomings.each do |draft_upcoming|
                %tr
                  %td= link_to draft_upcoming.name, edit_upcoming_path(draft_upcoming)
                  %td= draft_upcoming.event.name
                  %td= draft_upcoming.date
                  %td
                    =link_to edit_upcoming_path(draft_upcoming), class: "light btn-edit" do
                      %i.fa.fa-pencil-square-o
                    =link_to upcoming_path(draft_upcoming), method: :delete, class: "light btn-delete", data: {confirm: "Are you sure you want to delete this upcoming event?"} do 
                      %i.fa.fa-times

      .row.top-50.published
        .col-md-10.col-md-offset-1
          %h4
            Published Upcoming Events
            %button
              =link_to "Add new upcoming event", new_upcoming_path
          %hr
          %table#upcoming
            %thead
              %tr
                %th Name
                %th Ignite
                %th Date
                %th
            %tbody
              -@upcomings.each do |upcoming|
                %tr
                  %td= upcoming.name
                  %td= upcoming.event.name
                  %td= upcoming.date
                  %td
                    =link_to edit_upcoming_path(upcoming), class: "light btn-edit" do
                      %i.fa.fa-pencil-square-o
                    =link_to upcoming_path(upcoming), method: :delete, class: "light btn-delete", data: {confirm: "Are you sure you want to delete this upcoming event?"} do 
                      %i.fa.fa-times
- else
  .container-fluid
    .row
      .col-md-10.col-md-offset-1
        %h4
          Videos you have submitted
          %button
            =link_to "Add new Video", new_video_path
        %hr
        %table#draft_videos
          %thead
            %tr
              %th Event
              %th Title
              %th Watch
              %th Presenter
              %th Presenter URL
              %th Uploaded
              %th Tags
              %th
              %th
          %tbody
            -@videos.each do |video|
              %tr
                %td= video.event.name
                %td= link_to video.title, edit_video_path(video)
                %td.center
                  = link_to video.url, :target => "_blank" do
                    %i.fa.fa-play-circle
                %td= video.speaker_name
                %td= video.speaker_url
                %td= video.created_at.to_date
                %td= video.tags.map(&:name)
                %td
                  =link_to edit_video_path(video), class: "light btn-edit" do
                    %i.fa.fa-pencil-square-o
                %td
                  =link_to video_path(video), method: :delete, class: "light btn-delete", data: {confirm: "Are you sure you want to delete this video?"} do 
                    %i.fa.fa-times

    .row.top-50
      .col-md-10.col-md-offset-1
        %h4
          Ignites you have submitted
          %button
            =link_to "Add new Ignite", new_event_path
        %hr
        %table#draft_events
          %thead
            %tr
              %th Name
              %th City
              %th State
              %th Country
              %th URL
              %th Twitter
              %th
          %tbody
            -@events.each do |event|
              %tr
                %td= link_to event.name, edit_event_path(event)
                %td= event.city
                %td= event.state
                %td= event.country
                %td= link_to event.url, event.url, :target => "_blank"
                %td= event.twitter_name
                %td
                  =link_to edit_event_path(event), class: "light btn-edit" do
                    %i.fa.fa-pencil-square-o
                  =link_to event_path(event), method: :delete, class: "light btn-delete", data: {confirm: "Are you sure you want to delete this Ignite?"} do 
                    %i.fa.fa-times
    .row.top-50
      .col-md-10.col-md-offset-1
        %h4
          Upcoming Events you have submitted
          %button
            =link_to "Add new upcoming event", new_upcoming_path
        %hr
        %table#draft_upcoming
          %thead
            %tr
              %th Name
              %th Ignite
              %th Date
              %th
          %tbody
            -@upcomings.each do |upcoming|
              %tr
                %td= upcoming.name
                %td= upcoming.event.name
                %td= upcoming.date
                %td
                  =link_to edit_upcoming_path(upcoming), class: "light btn-edit" do
                    %i.fa.fa-pencil-square-o
                  =link_to upcoming_path(upcoming), method: :delete, class: "light btn-delete", data: {confirm: "Are you sure you want to delete this upcoming event?"} do 
                    %i.fa.fa-times
                    